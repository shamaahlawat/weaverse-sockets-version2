{"version":3,"sources":["../../src/controller/notify.js"],"names":["request","require","FCM","notify","fcm_token","data","options","method","url","CONFIG","FCM_URL","headers","Authorization","FCM_KEY","body","JSON","stringify","notification","to","error","response","Error","console","log","module","exports"],"mappings":";;AAAA;;;;;;AACA,MAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAIC,MAAMD,QAAQ,UAAR,CAAV;AACA,eAAeE,MAAf,CAAsBC,SAAtB,EAAiCC,IAAjC,EAAuC;AACnC,QAAIC,UAAU;AACVC,gBAAQ,MADE;AAEVC,aAAKC,iBAAOC,OAFF;AAGVC,iBAAS;AACLC,2BAAeH,iBAAOI,OADjB;AAEL,4BAAgB;AAFX,SAHC;AAOVC,cAAMC,KAAKC,SAAL,CAAe;AACjBX,kBAAM;AACFY,8BAAcZ;AADZ,aADW;AAIjBa,gBAAId;AAJa,SAAf;AAPI,KAAd;AAcAJ,YAAQM,OAAR,EAAiB,UAASa,KAAT,EAAgBC,QAAhB,EAA0B;AACvC,YAAID,KAAJ,EAAW,MAAM,IAAIE,KAAJ,CAAUF,KAAV,CAAN;AACXG,gBAAQC,GAAR,CAAYjB,OAAZ,EAAqBc,SAASN,IAA9B;AACH,KAHD;AAKH;;AAGDU,OAAOC,OAAP,GAAiB,EAAEtB,MAAF,EAAjB","file":"notify.js","sourcesContent":["import CONFIG from \"../config\";\r\nconst request = require(\"request\");\r\nvar FCM = require(\"fcm-push\");\r\nasync function notify(fcm_token, data) {\r\n    var options = {\r\n        method: \"POST\",\r\n        url: CONFIG.FCM_URL,\r\n        headers: {\r\n            Authorization: CONFIG.FCM_KEY,\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            data: {\r\n                notification: data\r\n            },\r\n            to: fcm_token\r\n        })\r\n    };\r\n    request(options, function(error, response) {\r\n        if (error) throw new Error(error);\r\n        console.log(options, response.body);\r\n    });\r\n\r\n}\r\n\r\n\r\nmodule.exports = { notify };"]}